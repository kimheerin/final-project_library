<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAGE</title>
    <link rel="stylesheet" href="page.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
</head>

<body>
    <div id="header">
        <section class="header">
            <div class="header_logo_box">
                <a href="#">
                    <img class="header_logo" src="/img/main_logo.png" alt="logo">
                    <!-- <p class="header_library_name">선유책숲</p> -->
                </a>
            </div>
            <div class="header_links">
                <div class="header_link">
                    <div class="header_link_search">
                        <a href="#">도서검색</a>
                    </div>
                    <div class="header_link_open_space">
                        <a href="#">열린공간</a>
                    </div>
                    <div class="header_link_library_info">
                        <a href="#">도서관안내</a>
                    </div>
                    <div class="header_link_study_room">
                        <a href="#">열람실</a>
                    </div>
                    <div class="header_link_my_labrary">
                        <a href="#">나의책숲</a>
                    </div>
                </div>
            </div>
            <div class="header_member">
                <a class="header_member_login" href="#">로그인</a> |
                <a class="header_member_join" href="#">회원가입</a>
            </div>
        </section>
    </div>

    <div id="container">
        <section class="page">

            <div class="page_top">
                <div class="page_top_imgbox">
                    <div class="page_img">
                        <img src="/img/main_library_picture1.PNG" alt="img">
                    </div>
                    <div class="page_title">
                        <p>열람실 현황</p>
                    </div>
                </div>
            </div>

            <div class="page_content_box">
                <nav class="page_side_nav">
                    <div class="nav_content">
                        <div class="nav_content_top">
                            <div class="nav_top_title">
                                <p>열람실</p>
                            </div>
                        </div>
                        <div class="nav_content_mid">
                            <div class="nav_links">
                                <a class="nav_menu selected_menu" href="#">열람실 현황</a>
                            </div>
                        </div>
                    </div>
                </nav>

                <div class="page_content">
                    <div class="page_content_top">
                        <div class="page_menu_title">
                        </div>
                    </div>
                    <div class="page_content_mid">
                        <div class="page_content_box">
                            <div class="study_room_page">
                                <div class="seats_section">
                                    <div class="seats_box">
                                        <div class="big_seats"></div>
                                        <div class="small_seats_box">
                                            <div class="small_seats_1"></div>
                                            <div class="small_seats_2"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="seats_info_board_box">
                                    <div class="seats_info_board">
                                        <h3>좌석 이용 현황</h3>
                                        <div>
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th>전체 좌석 수</th>
                                                        <th>사용 좌석 수</th>
                                                        <th>잔여 좌석 수</th>
                                                        <th>이용률(%)</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td id="seatCount">34</td>
                                                        <td id="usingSeatCount">0</td>
                                                        <td id="remainSeatCount">34</td>
                                                        <td id="usingRatio">0(%)</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="seats_using_board">
                                        <div class="seats_using_info">
                                            <h3>좌석 이용자 현황</h3>
                                        </div>
                                        <div class="seats_using_list">
                                            <table>
                                                <thead>
                                                    <tr>
                                                        <th>좌석 번호</th>
                                                        <th>입실 시간</th>
                                                        <th>퇴실 예정 시간</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td></td>
                                                        <td></td>
                                                        <td></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div class="seat_using_list_paging">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>




    <div id="footer">
        <section class="footer">
            <div class="footer_top">
                <div class="footer_top_text_box">
                    <p>
                        <a href="open_info_notice">정보공개알림</a> |
                        <a href="personal_info_raw">개인정보처리방침</a> |
                        <a href="public_service_raw">행정서비스헌장</a> |
                        <a href="use_info_raw">이용규정</a> |
                        <a href="find_load">오시는길</a>
                    </p>
                </div>
            </div>
            <div class="footer_bottom">
                <div class="team_info_box">
                    <p class="team_basic_info">(우)00000 서울시 영등포구 선유로 (선유책숲) TEL 02-1234-1234 FAX 02-123-1234,
                        02-123-1235</p>
                    <p class="team_copyright">Copyright ⓒ 2024 team3_kh_academy. All Rights Reserved.</p>
                </div>
            </div>
        </section>
    </div>
    <script>
        let bigSeats = document.querySelector(".big_seats");

        for(let i = 1; i <= 24; i++) {
            let seatBtn = document.createElement('button');
            seatBtn.setAttribute('id', 'seat' + i);
            seatBtn.textContent = i;

            let link = document.createElement('a');
            link.appendChild(seatBtn);

            bigSeats.appendChild(link);
        }

        let smallSeats1 = document.querySelector(".small_seats_1");

        for(let j = 25; j <= 30; j++) {
            let seatBtn1 = document.createElement('button');
            seatBtn1.setAttribute('id', 'seat' + j);
            seatBtn1.textContent = j;

            let link1 = document.createElement('a');
            link1.appendChild(seatBtn1);

            smallSeats1.appendChild(link1);
        }

        let smallSeats2 = document.querySelector(".small_seats_2");

        for(let k = 31; k <= 34; k++) {
            let seatBtn2 = document.createElement('button');
            seatBtn2.setAttribute('id', 'seat' + k);
            seatBtn2.textContent = k;

            let link2 = document.createElement('a');
            link2.appendChild(seatBtn2);

            smallSeats2.appendChild(link2);
        }

        let allSeatsBtn = document.querySelectorAll('button');

        allSeatsBtn.forEach(button => {
            button.addEventListener('click', function() {
                    this.classList.toggle('using_seat');
                    counting();
            })
        })
        
        const counting = () => {

            const buttons = document.querySelectorAll('button');
            const usingSeats = document.querySelectorAll('.using_seat');

            const seatCountId = document.getElementById('seatCount');
            const usingSeatCountId = document.getElementById('usingSeatCount');
            const remainSeatCountId = document.getElementById('remainSeatCount');
            const usingRatioId = document.getElementById('usingRatio');
            
            const seatCount = buttons.length;
            const usingSeatCount = usingSeats.length;
            const remainSeatCount = seatCount - usingSeatCount;
            const usingRatio = (usingSeatCount / seatCount * 100).toFixed(1);

            seatCountId.textContent = seatCount;
            usingSeatCountId.textContent = usingSeatCount;
            remainSeatCountId.textContent = remainSeatCount;
            usingRatioId.textContent = usingRatio + '(%)';
        }
    </script>
</body>
</html>